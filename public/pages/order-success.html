<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à - Doll Pre-Order</title>
    <link rel="stylesheet" href="../css/common.css">
    <link rel="stylesheet" href="../css/order-success.css">
    <link rel="icon" type="image/x-icon" href="../img/logo.png">
</head>

<body>
    <header class="header" id="header">
        <nav class="navbar">
            <div class="nav-left">
                <a href="search.html" class="search-link">üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</a>
                <a href="index.html" class="nav-item">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a>
            </div>
            <div class="nav-center">
                <a href="index.html">
                    <img src="../img/logo.png" alt="Doll Pre-Order Logo">
                </a>
            </div>
            <div class="nav-right">
                <a href="cart.html" class="cart-link">
                    üõí ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
                    <span id="cart-badge" class="cart-badge">0</span>
                </a>
                <a href="team.html" class="nav-item">‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤</a>
                <a href="login.html" class="login-btn">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</a>
            </div>
        </nav>
    </header>

    <main class="success-page">
        <!-- Floating Decorations -->
        <div class="floating-shapes">
            <div class="shape shape-1">üéÄ</div>
            <div class="shape shape-2">‚ú®</div>
            <div class="shape shape-3">üß∏</div>
            <div class="shape shape-4">üíù</div>
            <div class="shape shape-5">üå∏</div>
        </div>

        <div class="success-container">
            <!-- Progress Steps -->
            <div class="progress-tracker">
                <div class="progress-step completed">
                    <div class="step-circle">
                        <span class="step-check">‚úì</span>
                    </div>
                    <span class="step-label">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏±‡∏î‡∏™‡πà‡∏á</span>
                </div>
                <div class="progress-line completed"></div>
                <div class="progress-step completed">
                    <div class="step-circle">
                        <span class="step-check">‚úì</span>
                    </div>
                    <span class="step-label">‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</span>
                </div>
                <div class="progress-line completed"></div>
                <div class="progress-step completed active">
                    <div class="step-circle">
                        <span class="step-check">‚úì</span>
                    </div>
                    <span class="step-label">‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô</span>
                </div>
            </div>

            <!-- Success Card -->
            <div class="success-card">
                <!-- Animated Success Icon -->
                <div class="success-icon-wrapper">
                    <div class="success-icon-bg"></div>
                    <div class="success-icon-ring"></div>
                    <div class="success-icon">
                        <svg viewBox="0 0 52 52" class="checkmark">
                            <circle class="checkmark-circle" cx="26" cy="26" r="25" fill="none" />
                            <path class="checkmark-check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8" />
                        </svg>
                    </div>
                </div>

                <!-- Success Message -->
                <div class="success-message">
                    <h1>üéâ ‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!</h1>
                    <p class="success-subtitle">‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÑ‡∏ß‡πâ‡∏ß‡∏≤‡∏á‡πÉ‡∏à Doll Pre-Order</p>
                    <p class="success-desc">‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß</p>
                </div>

                <!-- Order Number Card -->
                <div class="order-number-card">
                    <div class="order-number-icon">üì¶</div>
                    <div class="order-number-content">
                        <span class="order-number-label">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</span>
                        <span class="order-number-value" id="order-number">-</span>
                    </div>
                    <button class="copy-btn" onclick="copyOrderNumber()" title="‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å">
                        üìã
                    </button>
                </div>

                <!-- Order Details Grid -->
                <div class="order-details-grid">
                    <div class="detail-card">
                        <div class="detail-icon">üìß</div>
                        <div class="detail-content">
                            <span class="detail-label">‡∏™‡πà‡∏á‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÑ‡∏õ‡∏ó‡∏µ‡πà</span>
                            <span class="detail-value" id="customer-email">-</span>
                        </div>
                    </div>
                    <div class="detail-card">
                        <div class="detail-icon">üí∞</div>
                        <div class="detail-content">
                            <span class="detail-label">‡∏¢‡∏≠‡∏î‡∏ä‡∏≥‡∏£‡∏∞‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</span>
                            <span class="detail-value highlight" id="order-total">‡∏ø0</span>
                        </div>
                    </div>
                </div>

                <!-- Info Banner -->
                <div class="info-banner">
                    <div class="info-banner-icon">üí°</div>
                    <div class="info-banner-text">
                        <strong>‡πÄ‡∏Ñ‡∏•‡πá‡∏î‡∏•‡∏±‡∏ö:</strong> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡πÑ‡∏ß‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏™‡πà‡∏á
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="action-buttons">
                    <a href="#" id="track-order-btn" class="btn-action btn-primary-action">
                        <span class="btn-icon">üìç</span>
                        <span class="btn-text">‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</span>
                        <span class="btn-arrow">‚Üí</span>
                    </a>
                    <a href="search.html" class="btn-action btn-secondary-action">
                        <span class="btn-icon">üõçÔ∏è</span>
                        <span class="btn-text">‡∏ä‡πâ‡∏≠‡∏õ‡∏õ‡∏¥‡πâ‡∏á‡∏ï‡πà‡∏≠</span>
                    </a>
                    <a href="index.html" class="btn-action btn-outline-action">
                        <span class="btn-icon">üè†</span>
                        <span class="btn-text">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</span>
                    </a>
                </div>
            </div>

            <!-- Social Share -->
            <div class="share-section">
                <p class="share-text">‡πÅ‡∏ä‡∏£‡πå‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡∏Å‡∏±‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÜ</p>
                <div class="share-buttons">
                    <button class="share-btn" onclick="shareToFacebook()">üìò</button>
                    <button class="share-btn" onclick="shareToTwitter()">üê¶</button>
                    <button class="share-btn" onclick="shareToLine()">üíö</button>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <p>&copy; 2024 Doll Pre-Order. All rights reserved.</p>
        <p>Made with <span class="footer-heart">‚ù§Ô∏è</span> by Our Team</p>
    </footer>

    <script src="../js/cart-utils.js"></script>
    <script>
        // Get completed order
        const orderData = JSON.parse(sessionStorage.getItem('completedOrder') || '{}');

        if (orderData.orderNumber) {
            document.getElementById('order-number').textContent = orderData.orderNumber;
            document.getElementById('order-total').textContent = `‡∏ø${orderData.totalAmount?.toLocaleString() || '0'}`;

            const customerEmail = sessionStorage.getItem('customerEmail') || '‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì';
            document.getElementById('customer-email').textContent = customerEmail;

            document.getElementById('track-order-btn').addEventListener('click', (e) => {
                e.preventDefault();
                sessionStorage.setItem('trackOrderNumber', orderData.orderNumber);
                sessionStorage.setItem('trackEmail', customerEmail);
                window.location.href = 'order-track.html';
            });

            clearCart();
            createConfetti();
            createSparkles();

            setTimeout(() => {
                sessionStorage.removeItem('currentOrder');
                sessionStorage.removeItem('completedOrder');
            }, 5000);
        } else {
            document.getElementById('order-number').textContent = '‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•';
        }

        // Copy order number
        function copyOrderNumber() {
            const orderNumber = document.getElementById('order-number').textContent;
            navigator.clipboard.writeText(orderNumber).then(() => {
                const btn = document.querySelector('.copy-btn');
                btn.textContent = '‚úì';
                setTimeout(() => btn.textContent = 'üìã', 2000);
            });
        }

        // Confetti animation
        function createConfetti() {
            const colors = ['#FFB7C5', '#FF69B4', '#E91E63', '#FFD700', '#4CAF50', '#FF9EAA'];
            const shapes = ['circle', 'square', 'triangle'];

            for (let i = 0; i < 80; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti ' + shapes[Math.floor(Math.random() * shapes.length)];
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.animationDuration = (Math.random() * 2 + 2) + 's';
                    confetti.style.animationDelay = Math.random() * 0.5 + 's';
                    document.body.appendChild(confetti);

                    setTimeout(() => confetti.remove(), 4000);
                }, i * 25);
            }
        }

        // Sparkle effect
        function createSparkles() {
            const container = document.querySelector('.success-icon-wrapper');
            for (let i = 0; i < 12; i++) {
                setTimeout(() => {
                    const sparkle = document.createElement('div');
                    sparkle.className = 'sparkle';
                    sparkle.style.left = (Math.random() * 100) + '%';
                    sparkle.style.top = (Math.random() * 100) + '%';
                    container.appendChild(sparkle);
                    setTimeout(() => sparkle.remove(), 1000);
                }, i * 200);
            }
        }

        // Share functions
        function shareToFacebook() {
            window.open('https://www.facebook.com/sharer/sharer.php?u=' + encodeURIComponent(window.location.href), '_blank');
        }
        function shareToTwitter() {
            window.open('https://twitter.com/intent/tweet?text=' + encodeURIComponent('‡πÄ‡∏û‡∏¥‡πà‡∏á‡∏™‡∏±‡πà‡∏á‡∏ï‡∏∏‡πä‡∏Å‡∏ï‡∏≤‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏à‡∏≤‡∏Å Doll Pre-Order! üß∏'), '_blank');
        }
        function shareToLine() {
            window.open('https://social-plugins.line.me/lineit/share?url=' + encodeURIComponent(window.location.href), '_blank');
        }
    </script>
</body>

</html>